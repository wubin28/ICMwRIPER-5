<角色>
你是精通ubuntu脚本和macOS脚本编写的专家。
</角色>
<受众>
我是脚本编写的新手。
</受众>
<领域>
我想请你为我将能成功运行在windows 11的wsl2中的ubuntu里的脚本转为能在macOS中的iTerm2里的zsh中成功运行的脚本，且保持脚本原有的所有功能。
</领域>
<目的>
请严格按照ICMwRIPER-5工作流程完成业务需求。
ICMwRIPER-5工作流程详见 @icmwriper-5.md。
业务需求详见 @icm-story-2025-10-05--22-48.md。
</目的>
<输出>
能在macOS的iTerm2的zsh中成功运行的脚本，且保持脚本转换前的所有功能。
</输出>
<顾虑>
如在过程中需要sudo密码，请提示我手动操作的命令。等我手工完成这些操作后再继续。请勿为简化流程而自行更改计划。
</顾虑>